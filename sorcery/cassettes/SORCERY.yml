---
http_interactions:
- request:
    method: post
    uri: https://testsecureacceptance.cybersource.com/silent/pay
    body:
      encoding: US-ASCII
      string: utf8=%E2%9C%93&card_expiry_date=06-2015&access_key=fa145f4dd72c390f8d83b41bbdd39ee6&profile_id=pwksgem&payment_method=card&locale=en&transaction_type=sale&currency=USD&amount=100&merchant_defined_data99=amount&merchant_defined_data100=pyEcZRZ%2BDJpjvIuBlFPBz2jh5ADHeTDrbGD4BjDYmJw%3D&unsigned_field_names=bill_to_email%2Cbill_to_forename%2Cbill_to_surname%2Cbill_to_address_line1%2Cbill_to_address_line2%2Cbill_to_address_country%2Cbill_to_address_state%2Cbill_to_address_postal_code%2Cbill_to_address_city%2Ccard_cvn%2Ccard_expiry_date%2Ccard_number%2Ccard_type&transaction_uuid=224fdabc514d7fa45d22d5db4e5c7ede&reference_number=86f1a417cf14bd501468d7b7577b31c2&signed_field_names=access_key%2Cprofile_id%2Cpayment_method%2Clocale%2Ctransaction_type%2Ccurrency%2Camount%2Cmerchant_defined_data99%2Cmerchant_defined_data100%2Cunsigned_field_names%2Ctransaction_uuid%2Creference_number%2Csigned_field_names%2Csigned_date_time&signed_date_time=2014-08-18T02%3A18%3A34Z&signature=MHuINvKUGbcYFeJGT8FTfiTvMIDaPJ%2Bqwhe24kdJw3g%3D&bill_to_forename=Michael&bill_to_surname=Toppa&card_number=4111111111111111&card_cvn=110&card_type=001&bill_to_email=public%40toppa.com&bill_to_address_country=US&bill_to_address_line1=123+Happy+St&bill_to_address_line2=&bill_to_address_city=Havertown&bill_to_address_state=PA&bill_to_address_postal_code=19083&commit=Submit&splat=silent%2Fpay&captures=silent%2Fpay
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - '*/*'
      User-Agent:
      - Ruby
      Host:
      - testsecureacceptance.cybersource.com
      Content-Type:
      - application/x-www-form-urlencoded
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Apache-Coyote/1.1
      Set-Cookie:
      - JSESSIONID=564C1E02D4CA4C6C68EDD1543AEEF146; Path=/; Secure; HttpOnly
      - _op_aixPageId=a_3a301545-bf7d-4c87-a0bb-1f0625587f09; Path=/
      Strict-Transport-Security:
      - max-age=31536000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Pragma:
      - no-cache
      Expires:
      - Fri, 01 Jan 1990 00:00:00 GMT
      X-Ua-Compatible:
      - IE=Edge,chrome=1
      X-Request-Id:
      - 4a7b7f9acea91bdc0ae0397511809dbe
      X-Runtime:
      - '0.527000'
      Date:
      - Mon, 18 Aug 2014 02:18:38 GMT
      X-Rack-Cache:
      - invalidate, pass
      Content-Type:
      - text/html;charset=utf-8
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        <!DOCTYPE html>
        <!---------------------------------------------------------------------
        - Copyright 2012 CyberSource Corporation.  All rights reserved.
        --------------------------------------------------------------------->
        <html>
        <head>
            <title></title>
            <meta content="authenticity_token" name="csrf-param" />
        <meta content="p889zh90S5e50G8QyVswtywZ601ccm+ZpvfMsknXo/A=" name="csrf-token" />
        </head>
        <body>



        <form accept-charset="UTF-8" action="http://tranquil-ocean-5865.herokuapp.com/confirm" id="custom_redirect" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
                <input id="req_bill_to_address_country" name="req_bill_to_address_country" type="hidden" value="US" />
                <input id="auth_avs_code" name="auth_avs_code" type="hidden" value="X" />
                <input id="req_card_number" name="req_card_number" type="hidden" value="xxxxxxxxxxxx1111" />
                <input id="req_card_expiry_date" name="req_card_expiry_date" type="hidden" value="06-2015" />
                <input id="bill_trans_ref_no" name="bill_trans_ref_no" type="hidden" value="84891769PYI2HWCA" />
                <input id="req_merchant_defined_data99" name="req_merchant_defined_data99" type="hidden" value="amount" />
                <input id="decision" name="decision" type="hidden" value="ACCEPT" />
                <input id="req_bill_to_address_state" name="req_bill_to_address_state" type="hidden" value="PA" />
                <input id="signed_field_names" name="signed_field_names" type="hidden" value="transaction_id,decision,req_access_key,req_profile_id,req_transaction_uuid,req_transaction_type,req_reference_number,req_amount,req_currency,req_locale,req_payment_method,req_bill_to_forename,req_bill_to_surname,req_bill_to_email,req_bill_to_address_line1,req_bill_to_address_city,req_bill_to_address_state,req_bill_to_address_country,req_bill_to_address_postal_code,req_card_number,req_card_type,req_card_expiry_date,req_merchant_defined_data99,req_merchant_defined_data100,message,reason_code,auth_avs_code,auth_avs_code_raw,auth_response,auth_amount,auth_code,auth_trans_ref_no,auth_time,bill_trans_ref_no,signed_field_names,signed_date_time" />
                <input id="req_payment_method" name="req_payment_method" type="hidden" value="card" />
                <input id="req_transaction_type" name="req_transaction_type" type="hidden" value="sale" />
                <input id="auth_code" name="auth_code" type="hidden" value="888888" />
                <input id="signature" name="signature" type="hidden" value="uz69TzKRmqugcsG9e50RgEDhy+Mcsm6ENRD+imLBeT0=" />
                <input id="req_locale" name="req_locale" type="hidden" value="en" />
                <input id="reason_code" name="reason_code" type="hidden" value="100" />
                <input id="req_bill_to_address_postal_code" name="req_bill_to_address_postal_code" type="hidden" value="19083" />
                <input id="req_bill_to_address_line1" name="req_bill_to_address_line1" type="hidden" value="123 Happy St" />
                <input id="req_card_type" name="req_card_type" type="hidden" value="001" />
                <input id="auth_amount" name="auth_amount" type="hidden" value="100.00" />
                <input id="req_bill_to_address_city" name="req_bill_to_address_city" type="hidden" value="Havertown" />
                <input id="signed_date_time" name="signed_date_time" type="hidden" value="2014-08-18T02:18:38Z" />
                <input id="req_currency" name="req_currency" type="hidden" value="USD" />
                <input id="req_reference_number" name="req_reference_number" type="hidden" value="86f1a417cf14bd501468d7b7577b31c2" />
                <input id="auth_avs_code_raw" name="auth_avs_code_raw" type="hidden" value="I1" />
                <input id="transaction_id" name="transaction_id" type="hidden" value="4083283185250176195663" />
                <input id="req_amount" name="req_amount" type="hidden" value="100" />
                <input id="auth_time" name="auth_time" type="hidden" value="2014-08-18T021838Z" />
                <input id="message" name="message" type="hidden" value="Request was processed successfully." />
                <input id="auth_response" name="auth_response" type="hidden" value="100" />
                <input id="req_profile_id" name="req_profile_id" type="hidden" value="pwksgem" />
                <input id="req_transaction_uuid" name="req_transaction_uuid" type="hidden" value="224fdabc514d7fa45d22d5db4e5c7ede" />
                <input id="auth_trans_ref_no" name="auth_trans_ref_no" type="hidden" value="84891769PYI2HWCA" />
                <input id="req_bill_to_surname" name="req_bill_to_surname" type="hidden" value="Toppa" />
                <input id="req_bill_to_forename" name="req_bill_to_forename" type="hidden" value="Michael" />
                <input id="req_bill_to_email" name="req_bill_to_email" type="hidden" value="public@toppa.com" />
                <input id="req_access_key" name="req_access_key" type="hidden" value="fa145f4dd72c390f8d83b41bbdd39ee6" />
                <input id="req_merchant_defined_data100" name="req_merchant_defined_data100" type="hidden" value="pyEcZRZ+DJpjvIuBlFPBz2jh5ADHeTDrbGD4BjDYmJw=" />
            <noscript>
                <p>Your browser does not support JavaScript. Click the button below to continue.</p>
                <input name="commit" type="submit" value="Continue" />
            </noscript>
        </form><script type="text/javascript">
            window.onload = function(){
                document.forms['custom_redirect'].submit();
            }
        </script>

        </body>
        </html>
    http_version: 
  recorded_at: Mon, 18 Aug 2014 02:18:38 GMT
- request:
    method: post
    uri: https://testsecureacceptance.cybersource.com/silent/pay
    body:
      encoding: US-ASCII
      string: utf8=%E2%9C%93&card_expiry_date=06-2015&access_key=fa145f4dd72c390f8d83b41bbdd39ee6&profile_id=pwksgem&payment_method=card&locale=en&transaction_type=sale&currency=USD&amount=100&merchant_defined_data99=amount&merchant_defined_data100=pyEcZRZ%2BDJpjvIuBlFPBz2jh5ADHeTDrbGD4BjDYmJw%3D&unsigned_field_names=bill_to_email%2Cbill_to_forename%2Cbill_to_surname%2Cbill_to_address_line1%2Cbill_to_address_line2%2Cbill_to_address_country%2Cbill_to_address_state%2Cbill_to_address_postal_code%2Cbill_to_address_city%2Ccard_cvn%2Ccard_expiry_date%2Ccard_number%2Ccard_type&transaction_uuid=d5146caf657968b7c02bc001715c6716&reference_number=5459a46a219ef536e0767ff562ef8832&signed_field_names=access_key%2Cprofile_id%2Cpayment_method%2Clocale%2Ctransaction_type%2Ccurrency%2Camount%2Cmerchant_defined_data99%2Cmerchant_defined_data100%2Cunsigned_field_names%2Ctransaction_uuid%2Creference_number%2Csigned_field_names%2Csigned_date_time&signed_date_time=2014-08-18T02%3A22%3A13Z&signature=bby9VH1occpEysv58poVABdlzraz8MoOMnnbV5N7Zyg%3D&bill_to_forename=Michael&bill_to_surname=Toppa&card_number=3111111111111111&card_cvn=110&card_type=001&bill_to_email=public%40toppa.com&bill_to_address_country=US&bill_to_address_line1=123+Happy+St&bill_to_address_line2=&bill_to_address_city=Havertown&bill_to_address_state=PA&bill_to_address_postal_code=19083&commit=Submit&splat=silent%2Fpay&captures=silent%2Fpay
    headers:
      Accept-Encoding:
      - gzip;q=1.0,deflate;q=0.6,identity;q=0.3
      Accept:
      - '*/*'
      User-Agent:
      - Ruby
      Host:
      - testsecureacceptance.cybersource.com
      Content-Type:
      - application/x-www-form-urlencoded
  response:
    status:
      code: 200
      message: OK
    headers:
      Server:
      - Apache-Coyote/1.1
      Set-Cookie:
      - JSESSIONID=58F4169D322D3C0C591A80820213DC4E; Path=/; Secure; HttpOnly
      - _op_aixPageId=a_672f57d2-95c9-4426-8f3a-8fdb5b6a8391; Path=/
      Strict-Transport-Security:
      - max-age=31536000
      Cache-Control:
      - no-cache, no-store, max-age=0, must-revalidate
      Pragma:
      - no-cache
      Expires:
      - Fri, 01 Jan 1990 00:00:00 GMT
      X-Ua-Compatible:
      - IE=Edge,chrome=1
      X-Request-Id:
      - c078ac7d3acadc8b20e59034e13cd980
      X-Runtime:
      - '0.129000'
      Date:
      - Mon, 18 Aug 2014 02:22:17 GMT
      X-Rack-Cache:
      - invalidate, pass
      Content-Type:
      - text/html;charset=utf-8
      Transfer-Encoding:
      - chunked
    body:
      encoding: UTF-8
      string: |
        <!DOCTYPE html>
        <!---------------------------------------------------------------------
        - Copyright 2012 CyberSource Corporation.  All rights reserved.
        --------------------------------------------------------------------->
        <html>
        <head>
            <title></title>
            <meta content="authenticity_token" name="csrf-param" />
        <meta content="VSn56t7SP2ZnI6JNplLH5ZQAGN/iHxc1QlBCAbdWjsg=" name="csrf-token" />
        </head>
        <body>



        <form accept-charset="UTF-8" action="http://tranquil-ocean-5865.herokuapp.com/confirm" id="custom_redirect" method="post"><div style="margin:0;padding:0;display:inline"><input name="utf8" type="hidden" value="&#x2713;" /></div>
                <input id="req_bill_to_address_country" name="req_bill_to_address_country" type="hidden" value="US" />
                <input id="req_card_number" name="req_card_number" type="hidden" value="xxxxxxxxxxxx1111" />
                <input id="req_card_expiry_date" name="req_card_expiry_date" type="hidden" value="06-2015" />
                <input id="req_merchant_defined_data99" name="req_merchant_defined_data99" type="hidden" value="amount" />
                <input id="decision" name="decision" type="hidden" value="ERROR" />
                <input id="req_bill_to_address_state" name="req_bill_to_address_state" type="hidden" value="PA" />
                <input id="signed_field_names" name="signed_field_names" type="hidden" value="decision,req_access_key,req_profile_id,req_transaction_uuid,req_transaction_type,req_reference_number,req_amount,req_currency,req_locale,req_payment_method,req_bill_to_forename,req_bill_to_surname,req_bill_to_email,req_bill_to_address_line1,req_bill_to_address_city,req_bill_to_address_state,req_bill_to_address_country,req_bill_to_address_postal_code,req_card_number,req_card_type,req_card_expiry_date,req_merchant_defined_data99,req_merchant_defined_data100,invalid_fields,reason_code,message,signed_field_names,signed_date_time" />
                <input id="req_payment_method" name="req_payment_method" type="hidden" value="card" />
                <input id="req_transaction_type" name="req_transaction_type" type="hidden" value="sale" />
                <input id="signature" name="signature" type="hidden" value="njGOGoEAfT/PiF73yIFUW3SISEUOSQuAhwmLtcCJcqg=" />
                <input id="req_locale" name="req_locale" type="hidden" value="en" />
                <input id="reason_code" name="reason_code" type="hidden" value="102" />
                <input id="req_bill_to_address_postal_code" name="req_bill_to_address_postal_code" type="hidden" value="19083" />
                <input id="req_bill_to_address_line1" name="req_bill_to_address_line1" type="hidden" value="123 Happy St" />
                <input id="req_card_type" name="req_card_type" type="hidden" value="001" />
                <input id="req_bill_to_address_city" name="req_bill_to_address_city" type="hidden" value="Havertown" />
                <input id="signed_date_time" name="signed_date_time" type="hidden" value="2014-08-18T02:22:17Z" />
                <input id="req_currency" name="req_currency" type="hidden" value="USD" />
                <input id="req_reference_number" name="req_reference_number" type="hidden" value="5459a46a219ef536e0767ff562ef8832" />
                <input id="req_amount" name="req_amount" type="hidden" value="100" />
                <input id="message" name="message" type="hidden" value="Request parameters are invalid or missing" />
                <input id="req_profile_id" name="req_profile_id" type="hidden" value="pwksgem" />
                <input id="req_transaction_uuid" name="req_transaction_uuid" type="hidden" value="d5146caf657968b7c02bc001715c6716" />
                <input id="invalid_fields" name="invalid_fields" type="hidden" value="card_number" />
                <input id="req_bill_to_surname" name="req_bill_to_surname" type="hidden" value="Toppa" />
                <input id="req_bill_to_forename" name="req_bill_to_forename" type="hidden" value="Michael" />
                <input id="req_bill_to_email" name="req_bill_to_email" type="hidden" value="public@toppa.com" />
                <input id="req_access_key" name="req_access_key" type="hidden" value="fa145f4dd72c390f8d83b41bbdd39ee6" />
                <input id="req_merchant_defined_data100" name="req_merchant_defined_data100" type="hidden" value="pyEcZRZ+DJpjvIuBlFPBz2jh5ADHeTDrbGD4BjDYmJw=" />
            <noscript>
                <p>Your browser does not support JavaScript. Click the button below to continue.</p>
                <input name="commit" type="submit" value="Continue" />
            </noscript>
        </form><script type="text/javascript">
            window.onload = function(){
                document.forms['custom_redirect'].submit();
            }
        </script>

        </body>
        </html>
    http_version: 
  recorded_at: Mon, 18 Aug 2014 02:22:17 GMT
recorded_with: VCR 2.8.0
